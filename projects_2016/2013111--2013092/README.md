#Τίτλος Εργασίας
Ενα νέο κεφάλαιο για βιβλίο εργασιών προγραμματισμού για MIT App Inventor

ΑΜ Ονομα Επωνυμο
Π2013111 ΠΑΝΑΓΙΩΤΑ ΚΩΝΣΤΑΝΤΙΝΟΥ
Π2013092 ΠΑΡΑΣΚΕΥΗ ΜΕΜΟΥ

##Παραδοτέο 1

Δήλωση θέματος: Ενα νέο κεφάλαιο για βιβλίο εργασιών προγραμματισμού για MIT App Inventor

##Παραδοτέο 2

Το κεφάλαιο θα συμπεριλαμβάνει την περιγραφή ενός παιχνιδιού στο οποίο ο παίκτης θα χειρίζεται ένα αγωνιστικό αυτοκίνητο 
με τη βοήθεια του αισθητήρα προσανατολισμού (Orientation Sensor). Σκοπός τους παιχνιδιού είναι να αγγίξει το αυτοκίνητο 
τη σημαία χωρίς να πέσει μέσα στις λακούβες. Η θέση της σημαίας θα αλλάζει κάθε 4 δευτερόλεπτα.


##Παραδοτέο 3

Εισαγωγή
Το κεφάλαιο θα συμπεριλαμβάνει την περιγραφή ενός παιχνιδιού στο οποίο ο παίκτης θα χειρίζεται ένα αγωνιστικό αυτοκίνητο με τη βοήθεια του αισθητήρα προσανατολισμού (Orientation Sensor). 
Σκοπός τους παιχνιδιού είναι να αγγίξει το αυτοκίνητο τη σημαία χωρίς να πέσει μέσα στις λακούβες. Η θέση της σημαίας θα αλλάζει κάθε 4 δευτερόλεπτα. 
Αυτο το κεφάλαιο έχει ως σκοπό να βοηθήσει τους χρήστες του MIT App Inventor να μάθουν με έναν ψυχαγωγικό τρόπο πως να φτιάξουν ένα παιχνίδι για το κινητό. Συγκεκριμένα στο δικό μας κεφάλαιο θα μάθουν βήμα-βήμα πως να δημιουργήσουν το παιχνίδι “Playing with the car”. Είναι ένα αγωνιστικό παιχνίδι το οποίο θα προσελκύσει παιδιά μικρής ηλικίας. 

Εικόνα 1 - Εφαρμογή “Playing with the car”

Στόχοι
Να διακρίνετε το τμήμα της σχεδίασης και να μπορείτε να τοποθετείτε αντικείμενα πάνω στην περιοχή σχεδίασης της εφαρμογής.
Να διακρίνετε το τμήμα των εντολών και να τοποθετείτε εντολές των διαφόρων αντικειμένων στην περιοχή συγγραφής του προγράμματος.
Να μεταφορτώνετε αρχεία πολυμέσων (εικόνας και ήχου) στο περιβάλλον του App Inventor.
Να διακρίνετε τα διάφορα γεγονότα που μπορούν να προκληθούν σε μια κινητή συσκευή.
Να συνδέετε τα γεγονότα με συγκεκριμένες ενέργειες. 
Να τοποθετείτε τις ενέργειες αυτές με τη σωστή σειρά εκτέλεσης
Να δίνετε τιμές στις ιδιότητες των αντικειμένων που χρησιμοποιείτε στην εφαρμογή.
Να χρησιμοποιείτε το αντικείμενο Clock (ρολόι) για την παραγωγή animation – κινούμενης εικόνας.
Να δημιουργείτε κίνηση (animation) και να σχεδιάσετε την οθόνη με τη βοήθεια του καμβά. 
Να εκτελείτε την εφαρμογή που δημιουργήσατε στην φορητή σας συσκευή ή στον ενσωματωμένο προσομοιωτή (emulator) του App Inventor.
Να ανιχνεύετε τον προσανατολισμό της κινητής συσκευής με χρήση του κατάλληλου αισθητήρα. 
Να χρησιμοποιείτε τον αισθητήρα προσανατολισμού για κίνηση αντικειμένων εντός του γραφικού περιβάλλοντος.


Βήμα 1: Δημιουργία νέου προγράμματος και ρυθμίσεις οθόνης
Επισκεπτόμαστε τη σελίδα του ΜΙΤ για το App Inventor http://appinventor.mit.edu/ και κάνουμε κλικ στο “Create” στην άνω δεξιά γωνία της σελίδας. 
Θα εμφανιστεί η σελίδα για σύνδεση στο λογαριασμό που έχουμε στη Google. Δίνουμε το όνομα χρήστη και το συνθηματικό του λογαριασμού μας και πατάμε “Sign In” (Σύνδεση). 
Στη σελίδα που εμφανίζεται, για να δημιουργήσουμε μια νέα εφαρμογή στο περιβάλλον του App Inventor, κάνουμε κλικ στο κουμπί “New Project” (Νέο έργο). 
Θα εμφανιστεί ένα παράθυρο για να καταχωρήσουμε το όνομα που θα δώσουμε στην εφαρ- μογή μας. 
Φροντίζουμε το όνομα που θα δώσουμε να αποτελείται από λατινικούς χαρακτήρες και να μην περιέχει κενά ή άλλα σημεία στίξης εκτός από την κάτω παύλα (_). Προτείνεται το όνομα Playing with the car. Στη συνέχεια πατάμε το κουμπί ΟΚ.

Γραφικό Περιβάλλον Εφαρμογής
Αρχικά, το μοναδικό διαθέσιμο συστατικό της εφαρμογής είναι η οθόνη (Screen 1). Προτού προσθέσουμε στο έργο μας τα απαραίτητα αρχεία ήχου και εικόνων, καθώς και επιπλέον αντικείμενα που θα χρειαστούμε, ας τροποποιήσουμε ορισμένες ιδιότητες της οθόνης, που βρίσκονται στο πλαίσιο Properties, ως εξής: 

Επιλέγουμε το αντικείμενο  	      Screen 1
Μεταβάλλουμε τις ιδιότητες			   Screen Orientation: Portrait
　                                　Scrollable: No
                                 　　Title: Playing with the car
　　
　　
Βήμα 2: Προσθήκη των απαραίτητων αρχείων πολυμέσων
Προσθέτουμε στο κεφάλαιό μας τα αρχεία εικόνας και τους ήχους που θα χρησιμοποιεί η εφαρμογή μας. (Τα οποία τα βρήκαμε στο διαδίκτυο.)

Aρχικά κατεβάζουμε τις εικόνες στον υπολογιστή μας.
Στη συνέχεια κάνουμε κλικ στο κουμπί “Upload File…” στην περιοχή Media.
Από το παράθυρο διαλόγου που εμφανίζεται, κάνουμε κλικ στο «Επιλογή Αρχείου» και επιλέγουμε ένα ένα τα αρχεία των εικόνων και των ήχων για να τα μεταφορτώσουμε στο App Inventor.


Βήμα 3: Προσθήκη αντικειμένων στο γραφικό περιβάλλον 
Η διαδικασία που πρέπει να ακολουθήσουμε, είναι να επιλέγουμε τα αντικείμενα που μας χρειάζονται από την ομάδα της παλέτας (Palette) αριστερά και να τα τοποθέτουμε στην οθόνη και έτσι εμφανίζονται στον κατάλογο αντικειμένων αλλά μπορούμε να τροποποιήσουμε κάποιες από τις ιδιότητες τους ή να μετονομάσουμε το αντικείμενο.

Αρχικά θα χρειαστούμε το αντικείμενο του καμβά, πάνω στο οποίο θα εμφανίζονται τα γραφικά. Επιπλέον θα προσθέσουμε: 
Πέντε γραφικά (image sprites) για το αυτοκίνητο, τη σημαία και τις τρεις λακούβες.
Ένα αντικείμενο player για την αναπαραγωγή των ηχητικών εφέ.
Ένα ρολόι για την μετακίνηση της σημαίας.
Τέλος θα χρειαστούμε και τον αισθητήρα προσανατολισμού (Orientation Sensor)

Η πρώτη μας κίνηση είναι να μετονομάσουμε τα αντικείμενα που έχουμε εισάγει στην εφαρ- μογή μας, ώστε να έχουν χαρακτηριστικά ονόματα και όχι button1, image1 κ.λπ. ώστε να τα αναγνωρίζουμε ευκολότερα. Για να μετονομάσουμε ένα αντικείμενο το επιλέγουμε από την περιοχή των αντικειμένων (Components) και στη συνέχεια κάνουμε κλικ στο κουμπί Rename.
Στη συνέχεια θα καθορίσουμε κάποιες ιδιότητες που θα έχουν τα αντικείμενα της εφαρμογής. Για να δούμε τις ιδιότητες κάποιου αντικειμένου καταρχήν το επιλέγουμε από την περιοχή Components. Στον πίνακα που ακολουθεί φαίνονται αναλυτικά τα νέα ονόματα και οι ιδιότητες των αντικειμένων. 

Από την ομάδα	Μεταφέρουμε το αντικείμενο	Του δίνουμε το όνομα	Μεταβάλλουμε τις ιδιότητες
Drawing and Animation	Canvas	PistaCanvas	BackgroundImage:
Width: Fill Parent
Height: Fill Parent
Drawing and Animation	ImagesSprite	CarSprite	Picture:
Width: 50 pixels
Height: 50 pixels
Drawing and Animation	ImagesSprite	FlagSprite	Picture:
Width: 50 pixels
Height: 50 pixels
Drawing and Animation	ImagesSprite	HoleSprite1	Picture

Drawing and Animation	ImagesSprite	HoleSprite2	Picture
Drawing and Animation	ImagesSprite	HoleSprite3	Picture
UserInterface	Clock	FlagClock	TimerInterval: 4000
Media	Player	SoundFXPlayer	
Sensors	Orientation Sensor	GameSensor	

Πίνακας 1 - Τα νέα ονόματα και οι ιδιότητες των αντικειμένων

Συγγραφή Προγράμματος Blocks

Μέχρι στιγμής, στο παράθυρο σχεδίασης (Designer) έχουμε μεν σχεδιάσει ένα μέρος της «οθόνης» της εφαρμογής μας, αλλά δεν έχουμε ορίσει καθόλου την συμπεριφορά της. Θα μεταφερθούμε λοιπόν στο παράθυρο συγγραφής προγράμματος Blocks (το κουμπί μετάβασης βρίσκεται πάνω δεξιά) για να συσχετίσουμε ενέργειες με γεγονότα και, ουσιαστικά, να προγραμματίσουμε, προσθέτοντας τις κατάλληλες εντολές. Μεταβαίνουμε στο τμήμα εντολών της εφαρμογής, κάνοντας κλικ στο κουμπί Blocks.

Η κίνηση του αυτοκινήτου θα ενεργοποιείται όταν ο χρήστης κουνήσει το κινητό. Θα πρέπει να συνδέσουμε το γεγονός αυτό (το κούνημα του κινητού) με τις κατάλληλες ενέργειες. Πρέπει, λοιπόν, να τοποθετήσουμε στην περιοχή εντολών την κατάλληλη εντολή που θα «ανιχνεύει» το κούνημα του κινητού. Όταν προγραμματίζουμε μια συγκεκριμένη συμπεριφορά για την εφαρμογή μας πρακτικά συναρμολογούμε πλακίδια εντολών. Για κάθε πλακίδιο που θέλουμε να προσθέσουμε: 
Ανατρέχουμε στην κατάλληλη ομάδα στα αριστερά της οθόνης
Ανοίγει το αντίστοιχο «συρτάρι» με τις διαθέσιμες εντολές
Αναζητούμε και επιλέγουμε το πλακίδιο που χρειαζόμαστε και 
Το σέρνουμε στον χώρο σύνταξης των προγραμμάτων. 

Η διαδικασία μοιάζει, λοιπόν, με εκείνη που ακολουθήσαμε για να προσθέσουμε αντικείμενα στην περιοχή σχεδίασης στο Βήμα 3.


Βήμα 4: Αρχική θέση αυτοκινήτου και σημαίας
Στο ξεκίνημα του παιχνιδιού θέλουμε τα γραφικά του αυτοκίνητου και της σημαίας να τοποθετήσμουμε σε τυχαίες θέσεις, μέσα στα όρια του καμβά, φυσικά.
Εικόνα 2 - Αρχική θέση αυτοκινήτου και σημαίας

Βήμα 5: Αλλαγή θέσης σημαίας κάθε 4 δευτερόλεπτα
Κάθε φορά που το χρονόμετρο μετράει τέσσερα δευτερόλεπτα η σημαία θα μετακινείται σε μια νέα τυχαία θέση, όπως φαίνεται στην παρακάτω εικόνα.

Εικόνα 3 - Αλλαγή θέσης σημαίας κάθε 4 δευτερόλεπτα

Βήμα 6: Μετακίνηση αυτοκινήτου με τη βοήθεια του αισθητήρα
Όταν η κινητή μας συσκευή αλλάζει προσανατολισμό θα πρέπει το αυτοκίνητο να μετακινείται προς την κατεύθυνση που “έστριψε” και η συσκεύη. Επίσης, η ταχύτητα του αυτοκινήτου θα εξαρτάται απο το πόσο μεγάλη κλίση θα δώσουμε στη συσκευή μας.


Εικόνα 4 - Στιγμιότυπο από το παιχνίδι

Για να το πετύχουμε αυτό θα χρησιμοποιήσουμε καταρχήν το γεγονός αλλαγής κατεύθυνσης του αισθητήρα προσανατολισμού 

Εικόνα 5 - Γεγονός αλλαγής προσανατολισμού

και θα αλλάξουμε την ταχύτητα και την κατεύθυνση του γραφικού του αυτοκινήτου ανάλογα με τα μεγέθη Angle (γωνιά) και Magnitude (μέγεθος) του αισθητήρα, όπως φαίνεται στην παρακάτω εικόνα.

Εικόνα 6 - Αλλαγή ταχύτητας και προσανατολισμού του αυτοκινήτου


Η ιδιότητα Angle του αισθητήρα προσανατολισμού μας δίνει την διεύθυνση  προς την οποία είναι στραμμένη η συσκευή, σε σχέση με την επίπεδη - οριζόντια θέση.
Η ιδιότητα Magnitude του αισθητήρα προσανατολισμού μας δίνει έναν αριθμό μεταξύ μηδέν και ένα που δείχνει πόσο μεγάλη είναι η κλίση της συσκευής.

Επειδή η τιμή του Magnitude είναι πολύ μικρή την πολλαπλασιάζουμε συνήθως με έναν συντελεστή της αρεσκείας μας (εδώ τον αριθμό 300) προκειμένου να χρησιμοποιηθεί σαν τιμή για την ταχύτητα κίνησης του αυτοκινήτου. 


Βήμα 7: Μηδενισμός ταχύτητας του αυτοκινήτου στα άκρα του καμβά	
Όταν το αυτοκίνητο αγγίζει κάποια απο τις 4 πλευρές του καμβά θέλουμε να σταματάει να κινείται. Επομένως θα πρέπει να μηδενίζουμε την ταχύτητα της όταν αγγίζει τα άκρα.


Εικόνα 7 - Μηδενισμός ταχύτητας του αυτοκινήτου

Βήμα 8: Σύγκρουση αυτοκινήτου με άλλα αντικείμενα
Πρώτα απ’ όλα θα υλοποιήσουμε δύο διαδικασίες, που θα περιγράφουν τις ενέργειες που θα εκτελούνται όταν το αυτοκίνητο αγγίζει τη σημαία και τις ενέργειες που θα εκτελούνται όταν το αυτοκίνητο αγγίζει κάποια από τις λακούβες. 
Στην εφαρμογή μας, οι διαδικασίες απλά θα θέτουν το κατάλληλο αρχείο ήχου για αναπαραγωγή στο αντικείμενο SoundFXPlayer. 
Ας ονομάσουμε την πρώτη διαδικασία hitFlag και τη δεύτερη hitHole. Οι εντολές που θα εκτελούν φαίνονται στην παρακάτω εικόνα.


Εικόνα 8 - Διαδικασίες για την σημαία κ την λακούβα

Στη συνέχεια θα πρέπει όταν το αυτοκίνητο συγκρούεται με κάτι να ελέγχουμε με ποιο αντικείμενο έγινε η σύγκρουση και να εκτελούμε τις κατάλληλες ενέργειες. Καταρχήν, θα χρειαστούμε το γεγονός σύγκρουσης του αυτοκινήτου. 

Εικόνα 9 - Γεγονός συγκρουσης αυτοκινήτου


Η ιδιότητα other συμβολίζει το αντικείμενο με το οποίο έγινε η σύγκρουση. Στο σημείο αυτό θα πρέπει να συγκρίνουμε την τιμή του other με κάθε ένα από τα αντικείμενα της εφαρμογής, όπως φαίνεται παρακάτω.


Εικόνα 10 - ‘Ελεγχος σύγκρουσης μπάλας με αντικείμενο

Επεκτάσεις
Προτείναμε κάποιες επεκτάσεις όπως 
να μετακινείται η σημαία σε τυχαία θέση κάθε φορά που την «πιάνει» ο παίκτης. 
Δημιουργήσαμε σκορ στην εφαρμογή και το εμφανίσαμε στον παίκτη. Κάθε φορά που ο παίκτης πιάνει τη σημαία το σκορ θα αυξάνεται κατά 5. 
Οι τρύπες θα μετακινούνται σε τυχαίες θέσεις κάθε 4 δευτερόλεπτα όπως και η σημαία. 
Δώσαμε στον παίκτη 3 ζωές. Κάθε φορά που η μπάλα πέφτει σε μια από τις τρύπες οι ζωές θα μειώνονται κατά 1. Όταν μηδενιστούν το παιχνίδι θα τερματίζει. Χρησιμοποίσαμε τις κατάλληλες εικόνες κ ήχους : Α) Να εμφανίζεται η εικόνα bang και να ακούγεται ο ήχος της έκρηξης. 

Εικόνα 11 - Στιγμιότυπο όταν ο παίχτης έχει ζωές 0
B) Μετά από 3 δευτερόλεπτα να εμφανίζεται η εικόνα PlayAgain. Όταν ο παίκτης κάνει κλικ πάνω της το παιχνίδι θα ξεκινά από την αρχή. Όταν το παιχνίδι τερματίζει θα πρέπει όλα να σταματούν μέχρι να πατηθεί το PlayAgain. 


Εικόνα 12 - Στιγμιότυπο όταν τερματίζεται το παιχνίδι

5. Προσθέσαμε μουσική που θα αναπαράγεται κατά τη διάρκεια του παιχνιδιού.


##Παραδοτέο 4

...

##Tελική Αναφορά

...
![playagain](https://cloud.githubusercontent.com/assets/17294806/15219494/b027d6b2-186c-11e6-8841-cf632c1850f5.jpg)
