<h2>Web & Android Development</h2>
<b>Κορακάκης Μιχάλης</b><br />
<b>Π2012026</b>

<h3>Εισαγωγή</h3>

Σκοπός της εργασίας είναι ο εμπλουτισμός της βάσης δεδομένων του flutrack, και κατ' επέκταση η βελτίωση της εγκυρότητας των δεδομένων του, μέσω της παροχής στοιχείων σε αυτό από διαφορετικές πηγές πέρα του twitter. Αυτό επιτυγχάνεται μέσω της δημιουργίας δύο app (web/android), με κοινό backend, που καταγράφουν με παρόμοιο τρόπο όπως και το flutrack στο twitter, post χρηστών τα οποία σχετίζονται με τον ιό της γρίπης και διαθέτουν πληροφορίες σχετικά με την γεωγραφική θέση του χρήστη.
Βασική διαφορά μεταξύ των δύο modules είναι τα front-end τους δημιουργήθηκαν λαμβάνοντας υπόψιν συγκεκριμένες απαιτήσεις και περιορισμούς κάθε πλατφόρμας. 

<h3>Περιγραφή Λειτουργικότητας Εφαρμογών</h3>

Και στα δύο εφαρμογές με το πάτημα ενός κουμπιού ο χρήστης μεταφέρεται αυτόματα στην ιστοσελίδα του Facebook. Ύστερα ενημερώνεται, στην περίπτωση που χρησιμοποιεί για πρώτη φορά την εφαρμογή, σχετικά με τις πληροφορίες και τα δικαιώματα που χρειάζεται από το προφίλ του η εφαρμογή. Στην συνέχεια αφότου κάνει login η εφαρμογή αποκτάει πρόσβαση στις αναγκαίες για εκείνη πληροφορίες και τις στέλνει στην βάση δεδομένων. Έπειτα αποσυνδέει αυτόματα τον χρήστη από το Facebook και τον ενημερώνει για την επιτυχή ολοκλήρωση της διαδικασίας. Στην περίπτωση που ο χρήστης είναι ήδη συνδεδεμένος στο Facebook (μέσω του browser ή του facebook app στο android) τότε η συμπλήρωση των στοιχειών και το login δεν πραγματοποιούνται. 

Η εφαρμογή στέλνει queries για να αποκτήσει τα στοιχεια που χρειάζεται μέσω του [Graph Api](https://developers.facebook.com/docs/graph-api). Πρόσβαση στις πληροφορίες του Graph Api δίνεται μέσα access tokens που δημιουργούνται ύστερα από την επιτυχή είσοδο του χρήστη στο Facebook. Τα αποτελέσματα που επιστρέφονται από το Graph api είναι σε μορφή JSON. Πληροφορίες που σχετίζονται με το κείμενο των post αλλά και την γεωγραφική θέση του χρήστη φιλτράρονται με την χρήση regular expressions προκειμένου να εξακριβωθεί η εγκυροτητά τους αλλά και για να απομακρυνθούν περιττά σύμβολα από την αρχική ανάρτηση (π.χ. hashtags) ή links.


<h3>Επεξήγηση Κώδικα Εφαρμογής Android</h3>

Κλάση/Μέθοδος | Τεκμηρίωση
------------ | -------------
StatusCallback() | Anonymous Inner Class.Προσφέρει ασύγχρονη ενημέρωση σχετικά με αλλαγές στο Facebook Session (αν δηλαδή ο χρήστης είναι συνδεδεμένος ή όχι). Περιλαμβάνει την call() και onCompleted().
call() | Εκτελείται εφόσον η StatusCallBack() εντοπίσει κάποια αλλάγη στην κατάσταση του Session. Αφότου εξακριβώσει ότι ο χρήστης έχει συνδεθεί στο Facebook στέλνει ασύγχρονα το Request για δεδομένα στο Graph Api.
onCompleted() | Επεξεργάζεται το response που λαμβάνει η εφαρμογή από το Graph Api, προκειμένου να συγκεντρώσει τις επιθυμητές αναρτήσεις. Συγκεντρώνει όλα τα έγκυρα post σε ένα JSONArray και τον περνάει στην HttpAsyncTask().
HttpAsyncTask() | Κλάση η οποία στέλνει τα δεδομένα που τις παρέχει η onCompleted() στη βάση δεδομένων. Η χρήση της είναι απαραίτητη καθώς το Android ορίζει ότι όλα τα network operations πρέπει να γίνονται σε διαφορετικό thread από το main.
POST()| Αναλαμβάνει την αποστολή των δεδομένων στον server.
convertInputStreamToString() | Χρησιμοποιείται από την POST(), προκειμένου να μετατραπεί το inputstream που επιστρέφει ο server αφότου λάβει το JSONArray σε string, έτσι ώστε η POST() να μπορεί να διαβάσει το response και να εξακριβώσει αν τα δεδομένα στάλθηκαν με επιτυχία.

<h3>Οθόνες από Web/Android Apps</h3>
![alt text](https://github.com/courses-ionio/sw/blob/master/projects_2015/%CE%A02012026/Capture.PNG "Logo Title Text 1")


![alt text](https://github.com/courses-ionio/sw/blob/master/projects_2015/%CE%A02012026/Capture3.PNG "Logo Title Text 1")


![alt text](https://github.com/courses-ionio/sw/blob/master/projects_2015/%CE%A02012026/Capture2.PNG "Logo Title Text 1")


[Source Code Repo](https://github.com/mkorakakis/Software-Engineering-Project)
